import{r as i,j as e,a as f}from"./index-DoLby0QM.js";function T({token:v}){const[u,h]=i.useState(""),[l,p]=i.useState("multiple-choice"),[r,d]=i.useState(["","","",""]),[o,x]=i.useState(""),[j,m]=i.useState("General"),[c,a]=i.useState(null),g=(s,n)=>{const t=[...r];t[s]=n,d(t)},y=async s=>{s.preventDefault(),a(null);const n={questionText:u,questionType:l,subject:j};l==="multiple-choice"||l==="true-false"?(n.options=r.filter(t=>t),n.correctAnswer=o):l==="fill-in-the-blank"&&(n.correctAnswer=o);try{const t=await f.post("/api/questions",n,v);t.question?(a("Question created successfully!"),h(""),p("multiple-choice"),d(["","","",""]),x(""),m("General")):a(t.message||"Failed to create question.")}catch(t){a(t.message||"An error occurred.")}};return e.jsxs("div",{className:"card",style:{marginTop:20},children:[e.jsx("h4",{children:"Create New Question"}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{children:[e.jsx("label",{children:"Subject"}),e.jsx("input",{value:j,onChange:s=>m(s.target.value)})]}),e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Question Type"}),e.jsxs("select",{value:l,onChange:s=>p(s.target.value),children:[e.jsx("option",{value:"multiple-choice",children:"Multiple Choice"}),e.jsx("option",{value:"true-false",children:"True/False"}),e.jsx("option",{value:"fill-in-the-blank",children:"Fill-in-the-Blank"}),e.jsx("option",{value:"essay",children:"Essay"})]})]}),e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Question Text"}),e.jsx("textarea",{value:u,onChange:s=>h(s.target.value),rows:"3",style:{width:"100%"}})]}),(l==="multiple-choice"||l==="true-false")&&e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Options"}),r.map((s,n)=>e.jsx("div",{children:e.jsx("input",{value:s,onChange:t=>g(n,t.target.value),placeholder:`Option ${n+1}`})},n))]}),l!=="essay"&&e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Correct Answer"}),e.jsx("input",{value:o,onChange:s=>x(s.target.value)})]}),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{type:"submit",children:"Create Question"})}),c&&e.jsx("div",{style:{marginTop:8,color:c.includes("success")?"green":"red"},children:c})]})]})}export{T as default};
