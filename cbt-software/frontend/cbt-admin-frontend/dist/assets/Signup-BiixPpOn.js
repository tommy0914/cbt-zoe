import{u as j,r as a,j as e,N as y,L as v,a as f}from"./index-DoLby0QM.js";function A(){const{isAuthenticated:c,login:p}=j(),[n,h]=a.useState(""),[i,g]=a.useState(""),[l,x]=a.useState(""),[o,s]=a.useState(null),[u,d]=a.useState(!1),m=async t=>{if(t.preventDefault(),s(null),!n||!i||!l){s("All fields are required.");return}d(!0);try{const r=await f.post("/api/auth/register",{name:n,email:i,password:l});r.token?p(r):s(r.message||"Signup failed: No token received.")}catch(r){s(r.message||"An error occurred during signup.")}finally{d(!1)}};return c?e.jsx(y,{to:"/",replace:!0}):e.jsxs("div",{className:"card",style:{maxWidth:"480px",margin:"40px auto"},children:[e.jsx("h3",{children:"Create an Account"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{type:"text",value:n,onChange:t=>h(t.target.value),placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",value:i,onChange:t=>g(t.target.value),placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{style:{marginTop:8},children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:l,onChange:t=>x(t.target.value),placeholder:"Enter your password",required:!0})]}),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{type:"submit",disabled:u,style:{width:"100%"},children:u?"Creating Account...":"Sign Up"})}),o&&e.jsx("div",{style:{marginTop:8,color:"red"},children:o})]}),e.jsx("div",{style:{marginTop:12,textAlign:"center"},children:e.jsxs("p",{children:["Already have an account? ",e.jsx(v,{to:"/login",children:"Login"})]})})]})}export{A as default};
